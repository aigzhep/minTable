/* minTable 1.0
** Copyright: 2013 Aygul Ilimbaev
** License: MIT License */
(function(a){a.fn.minimize=function(b){b=a.extend({min:0,buttonText:["Show","Hide"],fixHeader:!1,initialView:"short"},b);a(this).each(function(){var c=b.min,d=a(this).width();a(this).find("td, th").each(function(){a(this).data("width",a(this).width())});a(this).wrap("<div class='collapsible-wrapper'></div>");a(this).addClass("parent").after("<div class='collapsible'><table class='inheritor'><tbody></tbody></table></div><div class='button-holder'><a href='#' class='show-button'>"+b.buttonText[0]+"</a></div>");
"short"==b.initialView?a(this).next().hide().next().children().text(b.buttonText[0]).attr("data-state","show"):a(this).next().show().next().children().text(b.buttonText[1]).attr("data-state","hide");a(this).children("thead").length?(a(this).find("tbody tr").attr("data-parent","body"),a(this).find("thead tr").attr("data-parent","head"),0==b.min&&!1==b.fixHeader?a(this).next().html("").append(a(this)):(!0==b.fixHeader&&(c+=a(this).find("thead tr").length),c=a(this).find("tr").filter(":gt("+(c-1)+")"),a(this).next().find("tbody").append(c.filter("[data-parent='body']")),
a(this).next().find("tbody").before("<thead></thead>"),a(this).next().find("thead").append(c.filter("[data-parent='head']")))):a(this).next().find("tbody").append(a(this).find("tr").filter(":gt("+(c-1)+")"));a(this).add(a(this).next().children(".inheritor")).width(d).find("td, th").each(function(){a(this).width(a(this).data("width"))});a(this).parents(".collapsible-wrapper").find(".show-button").click(function(c){"show"==a(this).data("state")?(a(this).text(b.buttonText[1]),a(this).data("state","hide")):
(a(this).text(b.buttonText[0]),a(this).data("state","show"));a(this).parent().siblings(".collapsible").slideToggle(400);return!1})})}})(jQuery);